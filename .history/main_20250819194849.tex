\documentclass[12pt,a4paper,oneside]{report}

% Essential packages for XeLaTeX
\usepackage{fontspec}
\usepackage{polyglossia}

\usepackage{bidi}

% Language setup
\setdefaultlanguage{english}
\setotherlanguage{arabic}
\setotherlanguage{french}

% Arabic font setup (choose one that's installed on your system)
\newfontfamily\arabicfont[Script=Arabic,Scale=1.2]{Amiri}
% Alternative fonts you can try:
% \newfontfamily\arabicfont[Script=Arabic,Scale=1.2]{Scheherazade New}
% \newfontfamily\arabicfont[Script=Arabic,Scale=1.2]{Cairo}
% \newfontfamily\arabicfont[Script=Arabic,Scale=1.2]{Noto Sans Arabic}

% Geometry and other packages
\usepackage{geometry}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning,calc}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{appendix}
\usepackage{afterpage}

% Page geometry
\geometry{
    left=3cm,
    right=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    includeheadfoot,
    headheight=15pt
}

% Custom colors
\definecolor{gitopsblue}{RGB}{0,123,191}
\definecolor{gitopsgreen}{RGB}{40,167,69}
\definecolor{gitorange}{RGB}{255,123,0}
\definecolor{gitred}{RGB}{220,53,69}

% Code listing settings
\lstset{
    backgroundcolor=\color{gray!10},
    basicstyle=\footnotesize\ttfamily,
    breaklines=true,
    captionpos=b,
    commentstyle=\color{green!50!black},
    frame=single,
    keywordstyle=\color{blue},
    language=bash,
    numbers=left,
    numberstyle=\tiny\color{gray},
    showstringspaces=false,
    stringstyle=\color{red},
    tabsize=2,
    xleftmargin=0.5cm,
    xrightmargin=0.5cm
}

% Hyperref setup
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=gitopsblue,
    filecolor=magenta,
    urlcolor=gitopsblue,
    pdftitle={PFE: GitOps Implementation Analysis - TechMart Platform},
    pdfauthor={Kousaila Benhamouche},
    pdfsubject={Master's Thesis - Information Systems Engineering},
    pdfkeywords={GitOps, CI/CD, DevOps, Microservices, Multi-Cloud},
    breaklinks=true,
    hypertexnames=false
}

% Header and footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\nouppercase{\leftmark}}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

\begin{document}

% Set page numbering to Roman for front matter
\pagenumbering{roman}
\setcounter{page}{1}

% Custom title page (now with proper Arabic support)
\input{chapters/title-page}

% Table of contents
\tableofcontents
\clearpage

% List of figures
\listoffigures
\clearpage

% List of tables
\listoftables
\clearpage

% Switch to Arabic numbering for main content
\pagenumbering{arabic}
\setcounter{page}{1}

% Main content chapters
\input{chapters/01-introduction}
\clearpage

\input{chapters/02-background}
\clearpage

\input{chapters/03-requirements}
\clearpage

\input{chapters/04-design}
\clearpage

\input{chapters/05-implementation}
\clearpage

\input{chapters/06-results}
\clearpage

\input{chapters/07-conclusion}
\clearpage

% Appendices
\input{chapters/appendices}

\end{document}